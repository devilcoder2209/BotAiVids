{% extends 'admin/master.html' %}

{% block head_css %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}?v={{ range(1000, 9999) | random }}">
<style>
/* Force high visibility for admin panel */
body, html {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: #111827 !important;
}

.admin-wrapper {
    background: rgba(255, 255, 255, 0.98) !important;
    min-height: 100vh !important;
    color: #111827 !important;
}

/* Force visibility for all text elements */
.admin-content, .container-fluid, .main-content {
    color: #111827 !important;
    background-color: transparent;
}

/* Admin tables and content styling */
.table, .table * {
    color: #111827 !important;
    background: white !important;
}

.table thead th {
    background: #f8fafc !important;
    color: #111827 !important;
    font-weight: 600 !important;
}

.table tbody td {
    color: #374151 !important;
}

/* Admin forms and inputs */
.form-control, .form-select, input, textarea, select {
    color: #111827 !important;
    background: white !important;
    border: 1px solid #d1d5db !important;
}

/* Admin badges and status */
.badge {
    color: white !important;
}

/* Admin links */
.admin-content a, .container-fluid a {
    color: #2563eb !important;
    text-decoration: none !important;
}

.admin-content a:hover, .container-fluid a:hover {
    color: #1d4ed8 !important;
    text-decoration: underline !important;
}

/* Admin headings */
h1, h2, h3, h4, h5, h6 {
    color: #111827 !important;
    font-weight: 600 !important;
}

/* Admin text elements */
p, span, div, td, th, label {
    color: #111827 !important;
}

/* Override any framework colors */
.text-muted {
    color: #6b7280 !important;
}

.text-primary {
    color: #2563eb !important;
}

.text-success {
    color: #059669 !important;
}

.text-warning {
    color: #d97706 !important;
}

.text-danger {
    color: #dc2626 !important;
}

/* Navigation styling - adaptive for light/dark */
.navbar {
    background: #111827 !important;
    color: #ffffff !important;
}

.navbar-brand {
    color: #ffffff !important;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5) !important;
}

/* Regular nav links */
.nav-link {
    color: #e5e7eb !important;
    background: transparent !important;
    border: 1px solid transparent !important;
    border-radius: 6px !important;
    padding: 0.5rem 1rem !important;
    margin: 0 0.25rem !important;
    transition: all 0.3s ease !important;
}

.nav-link:hover {
    color: #ffffff !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
}

/* Special styling for Dashboard/Admin links */
.nav-link[href*="dashboard"], .nav-link[href*="manage"], .nav-link[href*="admin"] {
    background: linear-gradient(45deg, #e5e7eb, #f3f4f6) !important;
    color: #111827 !important;
    border: 2px solid #d1d5db !important;
    font-weight: 700 !important;
    text-shadow: none !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
}

.nav-link[href*="dashboard"]:hover, .nav-link[href*="manage"]:hover, .nav-link[href*="admin"]:hover {
    background: linear-gradient(45deg, #f3f4f6, #ffffff) !important;
    color: #111827 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Force dashboard text to be black in all modes */
@media (prefers-color-scheme: light) {
    .nav-link[href*="dashboard"], .nav-link[href*="manage"], .nav-link[href*="admin"] {
        background: #f8fafc !important;
        color: #111827 !important;
        border: 2px solid #e5e7eb !important;
        font-weight: 700 !important;
        text-shadow: none !important;
    }
    
    .nav-link[href*="dashboard"]:hover, .nav-link[href*="manage"]:hover, .nav-link[href*="admin"]:hover {
        background: #ffffff !important;
        color: #111827 !important;
        border-color: #d1d5db !important;
    }
}

@media (prefers-color-scheme: dark) {
    .nav-link[href*="dashboard"], .nav-link[href*="manage"], .nav-link[href*="admin"] {
        background: #f8fafc !important;
        color: #111827 !important;
        border: 2px solid #e5e7eb !important;
        font-weight: 700 !important;
        text-shadow: none !important;
    }
}

/* White background for content areas */
.container-fluid, .main-content, .content {
    background: rgba(255, 255, 255, 0.98) !important;
    color: #111827 !important;
}

/* ULTIMATE DASHBOARD BUTTON FIX - Most Aggressive Override */
.nav-link[href*="dashboard"] *, 
.nav-link[href*="manage"] *, 
.nav-link[href*="admin"] *,
.navbar-nav .nav-link[href*="dashboard"],
.navbar-nav .nav-link[href*="manage"], 
.navbar-nav .nav-link[href*="admin"] {
    color: #000000 !important;
    text-shadow: none !important;
    background: transparent !important;
}

/* Force dashboard button background and text */
.navbar-nav .nav-item .nav-link[href*="dashboard"],
.navbar-nav .nav-item .nav-link[href*="manage"],
.navbar-nav .nav-item .nav-link[href*="admin"] {
    background-color: #f1f5f9 !important;
    color: #000000 !important;
    border: 2px solid #cbd5e1 !important;
    font-weight: 700 !important;
    text-shadow: none !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    border-radius: 8px !important;
    padding: 0.5rem 1rem !important;
    margin: 0 0.25rem !important;
}

.navbar-nav .nav-item .nav-link[href*="dashboard"]:hover,
.navbar-nav .nav-item .nav-link[href*="manage"]:hover,
.navbar-nav .nav-item .nav-link[href*="admin"]:hover {
    background-color: #ffffff !important;
    color: #000000 !important;
    border-color: #94a3b8 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
}
</style>

<script>
// Force Dashboard button styling with JavaScript - immediate execution
(function() {
    function fixDashboardButton() {
        // Find all Dashboard/admin links
        const dashboardLinks = document.querySelectorAll('a[href*="dashboard"], a[href*="manage"], a[href*="admin"]');
        
        dashboardLinks.forEach(function(link) {
            // Apply styles directly via JavaScript
            link.style.setProperty('background-color', '#f1f5f9', 'important');
            link.style.setProperty('color', '#000000', 'important');
            link.style.setProperty('border', '2px solid #cbd5e1', 'important');
            link.style.setProperty('font-weight', '700', 'important');
            link.style.setProperty('text-shadow', 'none', 'important');
            link.style.setProperty('text-transform', 'uppercase', 'important');
            link.style.setProperty('letter-spacing', '0.5px', 'important');
            link.style.setProperty('border-radius', '8px', 'important');
            link.style.setProperty('padding', '0.5rem 1rem', 'important');
            link.style.setProperty('margin', '0 0.25rem', 'important');
            link.style.setProperty('transition', 'all 0.3s ease', 'important');
            
            // Add hover effects
            link.addEventListener('mouseenter', function() {
                this.style.setProperty('background-color', '#ffffff', 'important');
                this.style.setProperty('color', '#000000', 'important');
                this.style.setProperty('border-color', '#94a3b8', 'important');
                this.style.setProperty('transform', 'translateY(-2px)', 'important');
                this.style.setProperty('box-shadow', '0 8px 25px rgba(0, 0, 0, 0.15)', 'important');
            });
            
            link.addEventListener('mouseleave', function() {
                this.style.setProperty('background-color', '#f1f5f9', 'important');
                this.style.setProperty('color', '#000000', 'important');
                this.style.setProperty('border-color', '#cbd5e1', 'important');
                this.style.setProperty('transform', 'translateY(0)', 'important');
                this.style.setProperty('box-shadow', 'none', 'important');
            });
        });
    }
    
    // Run immediately
    fixDashboardButton();
    
    // Run when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', fixDashboardButton);
    }
    
    // Run after a short delay to catch any late-loading elements
    setTimeout(fixDashboardButton, 100);
    setTimeout(fixDashboardButton, 500);
    setTimeout(fixDashboardButton, 1000);
})();
</script>
{% endblock %}

{% block brand %}
<a class="navbar-brand" href="{{ admin_view.admin.url }}">
    <i class="fas fa-shield-alt"></i> BotAiVids Admin
</a>
{% endblock %}

{% block main_menu %}
{{ super() }}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('gallery') }}">
        <i class="fas fa-photo-video"></i> Gallery
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('home') }}">
        <i class="fas fa-home"></i> Home
    </a>
</li>
{% endblock %}
